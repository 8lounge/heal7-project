@tailwind base;
@tailwind components;
@tailwind utilities;

/* HEAL7 브랜드 컬러 시스템 - 동양의 철학과 현대적 감각의 조화 */
@layer base {
  :root {
    /* === HEAL7 브랜드 컬러 철학 === */
    /* 주색상: 깊은 지혜의 색 - 밤하늘의 깊이 */
    --heal7-primary: 30 58 138;         /* indigo-700 - 깊은 지혜와 신뢰 */
    --heal7-primary-50: 238 242 255;    /* indigo-50 */
    --heal7-primary-100: 224 231 255;   /* indigo-100 */
    --heal7-primary-600: 37 99 235;     /* indigo-600 */
    --heal7-primary-900: 49 46 129;     /* indigo-900 */
    
    /* 보조색상: 전통의 금색 - 지혜와 품격 */
    --heal7-secondary: 180 83 9;        /* amber-700 - 전통의 금빛 */
    --heal7-secondary-50: 255 251 235;  /* amber-50 */
    --heal7-secondary-100: 254 243 199; /* amber-100 */
    --heal7-secondary-600: 217 119 6;   /* amber-600 */
    --heal7-secondary-900: 120 53 15;   /* amber-900 */
    
    /* 강조색상: 성장의 초록 - 생명력과 조화 */
    --heal7-accent: 22 163 74;          /* emerald-600 - 성장과 조화 */
    --heal7-accent-50: 236 253 245;     /* emerald-50 */
    --heal7-accent-100: 209 250 229;    /* emerald-100 */
    --heal7-accent-500: 34 197 94;      /* emerald-500 */
    --heal7-accent-900: 6 78 59;        /* emerald-900 */
    
    /* 중성색상: 균형과 안정 */
    --heal7-neutral-50: 248 250 252;    /* slate-50 */
    --heal7-neutral-100: 241 245 249;   /* slate-100 */
    --heal7-neutral-200: 226 232 240;   /* slate-200 */
    --heal7-neutral-300: 203 213 225;   /* slate-300 */
    --heal7-neutral-400: 148 163 184;   /* slate-400 */
    --heal7-neutral-500: 100 116 139;   /* slate-500 */
    --heal7-neutral-600: 71 85 105;     /* slate-600 */
    --heal7-neutral-700: 51 65 85;      /* slate-700 */
    --heal7-neutral-800: 30 41 59;      /* slate-800 */
    --heal7-neutral-900: 15 23 42;      /* slate-900 */
    
    /* === 기존 호환성 유지 === */
    --background: var(--heal7-neutral-50);
    --foreground: var(--heal7-neutral-900);
    --card: 255 255 255;
    --card-foreground: var(--heal7-neutral-900);
    --popover: 255 255 255;
    --popover-foreground: var(--heal7-neutral-900);
    --primary: var(--heal7-primary);
    --primary-foreground: 255 255 255;
    --secondary: var(--heal7-secondary);
    --secondary-foreground: 255 255 255;
    --muted: var(--heal7-neutral-100);
    --muted-foreground: var(--heal7-neutral-500);
    --accent: var(--heal7-accent);
    --accent-foreground: 255 255 255;
    --destructive: 220 38 38;
    --destructive-foreground: 248 250 252;
    --border: var(--heal7-neutral-200);
    --input: var(--heal7-neutral-200);
    --ring: var(--heal7-primary);
    --radius: 0.75rem;
    
    /* === 타이포그래피 크기 === */
    --heal7-text-xs: 0.75rem;    /* 12px */
    --heal7-text-sm: 0.875rem;   /* 14px */
    --heal7-text-base: 1rem;     /* 16px */
    --heal7-text-lg: 1.125rem;   /* 18px */
    --heal7-text-xl: 1.25rem;    /* 20px */
    --heal7-text-2xl: 1.5rem;    /* 24px */
    --heal7-text-3xl: 1.875rem;  /* 30px */
    --heal7-text-4xl: 2.25rem;   /* 36px */
    --heal7-text-5xl: 3rem;      /* 48px */
    --heal7-text-6xl: 3.75rem;   /* 60px */
    
    /* === 간격 시스템 === */
    --heal7-space-xs: 0.25rem;   /* 4px */
    --heal7-space-sm: 0.5rem;    /* 8px */
    --heal7-space-md: 1rem;      /* 16px */
    --heal7-space-lg: 1.5rem;    /* 24px */
    --heal7-space-xl: 2rem;      /* 32px */
    --heal7-space-2xl: 3rem;     /* 48px */
    --heal7-space-3xl: 4rem;     /* 64px */
    --heal7-space-4xl: 6rem;     /* 96px */
    
    /* === 그림자 시스템 === */
    --heal7-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --heal7-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --heal7-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --heal7-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --heal7-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .dark {
    --background: var(--heal7-neutral-900);
    --foreground: var(--heal7-neutral-50);
    --card: var(--heal7-neutral-800);
    --card-foreground: var(--heal7-neutral-50);
    --popover: var(--heal7-neutral-800);
    --popover-foreground: var(--heal7-neutral-50);
    --primary: var(--heal7-primary-600);
    --primary-foreground: var(--heal7-neutral-900);
    --secondary: var(--heal7-secondary-600);
    --secondary-foreground: var(--heal7-neutral-900);
    --muted: var(--heal7-neutral-800);
    --muted-foreground: var(--heal7-neutral-400);
    --accent: var(--heal7-accent-500);
    --accent-foreground: var(--heal7-neutral-900);
    --border: var(--heal7-neutral-700);
    --input: var(--heal7-neutral-700);
    --ring: var(--heal7-primary-600);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.6;
  }
  
  /* === 반응형 타이포그래피 === */
  h1 { @apply text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold tracking-tight; }
  h2 { @apply text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight; }
  h3 { @apply text-xl md:text-2xl lg:text-3xl font-semibold; }
  h4 { @apply text-lg md:text-xl lg:text-2xl font-semibold; }
  h5 { @apply text-base md:text-lg font-medium; }
  h6 { @apply text-sm md:text-base font-medium; }
  
  p { @apply text-base leading-relaxed; }
  
  /* === 개선된 스크롤바 === */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgb(var(--heal7-neutral-100));
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgb(var(--heal7-neutral-400));
    border-radius: 4px;
    transition: background-color 0.2s;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--heal7-primary));
  }
  
  /* === 포커스 스타일 개선 === */
  .focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-offset-background;
    ring-color: rgb(var(--heal7-primary));
  }
  
  /* === HEAL7 브랜드 포커스 === */
  .heal7-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    ring-color: rgb(var(--heal7-primary));
  }
  
  /* === 선택 영역 스타일 === */
  ::selection {
    background: rgb(var(--heal7-primary) / 0.2);
    color: rgb(var(--heal7-neutral-900));
  }
  
  /* === 이미지 최적화 === */
  img {
    @apply max-w-full h-auto;
  }
}

@layer components {
  /* === HEAL7 컨테이너 시스템 === */
  .container {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl;
  }
  
  .container-narrow {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl;
  }
  
  .container-wide {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-none;
  }
  
  /* === HEAL7 버튼 시스템 === */
  .btn-heal7 {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 text-sm font-medium 
           rounded-xl transition-all duration-300 ease-out
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed
           transform hover:scale-[1.02] active:scale-[0.98];
    min-height: 44px; /* 터치 친화적 최소 크기 */
  }
  
  .btn-heal7-primary {
    @apply btn-heal7;
    background: linear-gradient(135deg, rgb(var(--heal7-primary)), rgb(var(--heal7-primary-600)));
    color: white;
    box-shadow: var(--heal7-shadow-md);
  }
  
  .btn-heal7-primary:hover {
    background: linear-gradient(135deg, rgb(var(--heal7-primary-600)), rgb(var(--heal7-primary)));
    box-shadow: var(--heal7-shadow-lg);
  }
  
  .btn-heal7-secondary {
    @apply btn-heal7;
    background: linear-gradient(135deg, rgb(var(--heal7-secondary)), rgb(var(--heal7-secondary-600)));
    color: white;
    box-shadow: var(--heal7-shadow-md);
  }
  
  .btn-heal7-accent {
    @apply btn-heal7;
    background: linear-gradient(135deg, rgb(var(--heal7-accent)), rgb(var(--heal7-accent-500)));
    color: white;
    box-shadow: var(--heal7-shadow-md);
  }
  
  .btn-heal7-outline {
    @apply btn-heal7 bg-transparent border-2;
    border-color: rgb(var(--heal7-primary));
    color: rgb(var(--heal7-primary));
  }
  
  .btn-heal7-outline:hover {
    background: rgb(var(--heal7-primary));
    color: white;
  }
  
  .btn-heal7-ghost {
    @apply btn-heal7 bg-transparent;
    color: rgb(var(--heal7-neutral-700));
  }
  
  .btn-heal7-ghost:hover {
    background: rgb(var(--heal7-neutral-100));
  }
  
  /* === HEAL7 카드 시스템 === */
  .card-heal7 {
    @apply bg-white rounded-2xl border transition-all duration-300;
    border-color: rgb(var(--heal7-neutral-200));
    box-shadow: var(--heal7-shadow);
  }
  
  .card-heal7:hover {
    box-shadow: var(--heal7-shadow-lg);
    transform: translateY(-4px);
  }
  
  .card-heal7-elevated {
    @apply card-heal7;
    box-shadow: var(--heal7-shadow-lg);
  }
  
  .card-heal7-flat {
    @apply bg-white rounded-2xl border;
    border-color: rgb(var(--heal7-neutral-200));
  }
  
  /* === HEAL7 입력 필드 === */
  .input-heal7 {
    @apply w-full px-4 py-3 rounded-xl border transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-1;
    border-color: rgb(var(--heal7-neutral-300));
    background: white;
    color: rgb(var(--heal7-neutral-900));
    min-height: 44px; /* 터치 친화적 */
  }
  
  .input-heal7:focus {
    border-color: rgb(var(--heal7-primary));
    ring-color: rgb(var(--heal7-primary) / 0.2);
  }
  
  .select-heal7 {
    @apply input-heal7 pr-10 cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px;
  }
  
  /* === HEAL7 뱃지 시스템 === */
  .badge-heal7 {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
  }
  
  .badge-heal7-primary {
    @apply badge-heal7;
    background: rgb(var(--heal7-primary-100));
    color: rgb(var(--heal7-primary-900));
  }
  
  .badge-heal7-secondary {
    @apply badge-heal7;
    background: rgb(var(--heal7-secondary-100));
    color: rgb(var(--heal7-secondary-900));
  }
  
  .badge-heal7-accent {
    @apply badge-heal7;
    background: rgb(var(--heal7-accent-100));
    color: rgb(var(--heal7-accent-900));
  }
  
  /* === HEAL7 섹션 스타일 === */
  .section-heal7 {
    @apply py-12 md:py-16 lg:py-20;
  }
  
  .section-heal7-hero {
    @apply py-16 md:py-20 lg:py-24 xl:py-32;
  }
  
  .section-heal7-compact {
    @apply py-8 md:py-12 lg:py-16;
  }
}

@layer utilities {
  /* === HEAL7 텍스트 유틸리티 === */
  .text-heal7-gradient {
    background: linear-gradient(135deg, rgb(var(--heal7-secondary)), rgb(var(--heal7-accent)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .text-heal7-primary { color: rgb(var(--heal7-primary)); }
  .text-heal7-secondary { color: rgb(var(--heal7-secondary)); }
  .text-heal7-accent { color: rgb(var(--heal7-accent)); }
  .text-heal7-muted { color: rgb(var(--heal7-neutral-500)); }
  
  /* === HEAL7 배경 유틸리티 === */
  .bg-heal7-gradient {
    background: linear-gradient(135deg, 
      rgb(var(--heal7-primary)), 
      rgb(var(--heal7-primary-600)));
  }
  
  .bg-heal7-gradient-secondary {
    background: linear-gradient(135deg, 
      rgb(var(--heal7-secondary)), 
      rgb(var(--heal7-secondary-600)));
  }
  
  .bg-heal7-gradient-accent {
    background: linear-gradient(135deg, 
      rgb(var(--heal7-accent)), 
      rgb(var(--heal7-accent-500)));
  }
  
  .bg-heal7-surface { background: rgb(var(--heal7-neutral-50)); }
  .bg-heal7-elevated { background: white; }
  
  /* === HEAL7 그림자 유틸리티 === */
  .shadow-heal7-sm { box-shadow: var(--heal7-shadow-sm); }
  .shadow-heal7 { box-shadow: var(--heal7-shadow); }
  .shadow-heal7-md { box-shadow: var(--heal7-shadow-md); }
  .shadow-heal7-lg { box-shadow: var(--heal7-shadow-lg); }
  .shadow-heal7-xl { box-shadow: var(--heal7-shadow-xl); }
  
  /* === HEAL7 글로우 효과 === */
  .glow-heal7 {
    box-shadow: 0 0 20px rgb(var(--heal7-primary) / 0.3);
  }
  
  .glow-heal7-secondary {
    box-shadow: 0 0 20px rgb(var(--heal7-secondary) / 0.3);
  }
  
  .glow-heal7-accent {
    box-shadow: 0 0 20px rgb(var(--heal7-accent) / 0.3);
  }
  
  /* === 유리 효과 === */
  .glass-heal7 {
    @apply backdrop-blur-md border;
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  /* === 애니메이션 유틸리티 === */
  .animate-heal7-fade-in {
    animation: heal7-fade-in 0.6s ease-out;
  }
  
  .animate-heal7-scale-in {
    animation: heal7-scale-in 0.4s ease-out;
  }
  
  .animate-heal7-slide-up {
    animation: heal7-slide-up 0.5s ease-out;
  }
  
  /* === 호버 효과 === */
  .hover-heal7 {
    @apply transition-all duration-300 ease-out;
  }
  
  .hover-heal7:hover {
    transform: translateY(-4px);
    box-shadow: var(--heal7-shadow-lg);
  }
  
  .hover-heal7-scale:hover {
    transform: scale(1.05);
  }
  
  /* === 로딩 애니메이션 === */
  .loading-heal7 {
    @apply inline-flex gap-1;
  }
  
  .loading-heal7 div {
    @apply w-2 h-2 rounded-full;
    background: rgb(var(--heal7-primary));
    animation: heal7-pulse 1.4s ease-in-out infinite both;
  }
  
  .loading-heal7 div:nth-child(1) { animation-delay: -0.32s; }
  .loading-heal7 div:nth-child(2) { animation-delay: -0.16s; }
  .loading-heal7 div:nth-child(3) { animation-delay: 0; }
  
  /* === 반응형 숨김/표시 === */
  .mobile-only { @apply block md:hidden; }
  .desktop-only { @apply hidden md:block; }
  .tablet-up { @apply hidden md:block; }
  .mobile-down { @apply block md:hidden; }
  
  /* === 간격 유틸리티 === */
  .space-heal7-xs > * + * { margin-top: var(--heal7-space-xs); }
  .space-heal7-sm > * + * { margin-top: var(--heal7-space-sm); }
  .space-heal7-md > * + * { margin-top: var(--heal7-space-md); }
  .space-heal7-lg > * + * { margin-top: var(--heal7-space-lg); }
  .space-heal7-xl > * + * { margin-top: var(--heal7-space-xl); }
}

/* === HEAL7 애니메이션 키프레임 === */
@keyframes heal7-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heal7-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes heal7-slide-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heal7-pulse {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* === 접근성 개선 === */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .hover-heal7:hover {
    transform: none;
  }
}

/* === 고대비 모드 지원 === */
@media (prefers-contrast: high) {
  :root {
    --heal7-primary: 0 0 0;
    --heal7-secondary: 0 0 0;
    --heal7-accent: 0 0 0;
    --heal7-neutral-900: 0 0 0;
    --heal7-neutral-50: 255 255 255;
  }
}

/* === 다크모드 개선 === */
@media (prefers-color-scheme: dark) {
  .card-heal7 {
    background: rgb(var(--heal7-neutral-800));
    border-color: rgb(var(--heal7-neutral-700));
  }
  
  .input-heal7 {
    background: rgb(var(--heal7-neutral-800));
    border-color: rgb(var(--heal7-neutral-600));
    color: rgb(var(--heal7-neutral-100));
  }
}

/* === 프린트 스타일 === */
@media print {
  .btn-heal7, .hover-heal7 {
    box-shadow: none !important;
    transform: none !important;
  }
  
  .glow-heal7 {
    box-shadow: none !important;
  }
}