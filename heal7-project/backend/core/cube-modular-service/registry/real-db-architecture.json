{
  "heal7_real_db_architecture": {
    "metadata": {
      "version": "1.0.0",
      "architecture": "real_db_based_5_services",
      "created_at": "2025-08-30T00:00:00Z",
      "principle": "실제 운영 DB 구조 기반, 안전한 개선"
    },

    "current_database_reality": {
      "total_schemas": 8,
      "total_tables": 26,
      "largest_data": "dream_service.dream_raw_collection (79MB)",
      "active_schemas": ["crawling_service", "saju_service", "dream_service", "shared_common"]
    },

    "service_domain_mapping": {
      "saju-service": {
        "description": "사주명리학 + 꿈풀이 통합 서비스",
        "current_schemas": {
          "saju_service": {
            "tables": ["saju_results", "saju_interpretations", "system_settings", "kasi_cache"],
            "total_size": "200KB"
          },
          "dream_service": {
            "tables": ["dream_raw_collection", "dream_interpretations", "dream_categories"], 
            "total_size": "79MB",
            "note": "꿈풀이는 사주 서비스 내 기능"
          },
          "public_legacy": {
            "saju_related": ["saju_cache", "saju_charts", "calculation_performance", "compatibility_analyses", "daewoon_cycles", "sewoon_cycles"],
            "migration_target": "saju_service 스키마로 점진적 이전"
          }
        }
      },

      "crawling-service": {
        "description": "데이터 수집 및 크롤링",
        "current_schemas": {
          "crawling_service": {
            "tables": ["crawl_logs", "crawl_projects", "crawl_data", "crawl_attachments", "crawl_ai_processing", "crawl_quality_checks"],
            "total_size": "216KB",
            "status": "활발한 운영 중"
          }
        }
      },

      "paperwork-service": {
        "description": "서류 처리 및 AI 분석",
        "current_schemas": {
          "paperwork_service": {
            "tables": ["government_support_programs"],
            "total_size": "64KB",
            "status": "초기 단계"
          }
        }
      },

      "ai-monitoring-service": {
        "description": "AI 성능 모니터링",
        "current_schemas": {
          "ai_monitoring_service": {
            "tables": ["ai_usage_stats"],
            "total_size": "8KB",
            "status": "모니터링 중"
          }
        }
      },

      "cube-modular-service": {
        "description": "큐브 모듈러 대시보드 + 공통 인프라",
        "current_schemas": {
          "dashboard_service": {
            "tables": ["system_metrics", "service_logs"],
            "total_size": "32KB"
          },
          "shared_common": {
            "tables": ["users", "attachments"],
            "total_size": "64KB",
            "note": "모든 서비스가 공유하는 공통 데이터"
          }
        }
      }
    },

    "safe_improvement_plan": {
      "phase_1": "현재 구조 그대로 core 폴더 매핑",
      "phase_2": "public 스키마 레거시 테이블 점진적 이전",
      "phase_3": "서비스별 최적화 및 인덱스 개선",
      "no_breaking_changes": "기존 운영 중인 서비스 중단 없음"
    }
  }
}