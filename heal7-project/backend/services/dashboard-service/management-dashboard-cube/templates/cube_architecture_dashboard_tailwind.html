<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🏗️ HEAL7 큐브 모듈러 아키텍처 설계 대시보드</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Config for HEAL7 8-Color System -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // HEAL7 8-Color Cube System (생체모방공학 기반)
                        'heal7': {
                            // 🟦 Blue (Feature/비즈니스 로직) - 뇌/심장 역할
                            'blue': {
                                50: '#eff6ff',
                                100: '#dbeafe', 
                                500: '#3b82f6',
                                600: '#2563eb',
                                900: '#1e3a8a'
                            },
                            // 🟩 Green (Network/통신) - 순환계 역할
                            'green': {
                                50: '#f0fdf4',
                                100: '#dcfce7',
                                500: '#22c55e', 
                                600: '#16a34a',
                                900: '#14532d'
                            },
                            // 🟨 Yellow (Data/저장) - 골격/저장소 역할
                            'yellow': {
                                50: '#fefce8',
                                100: '#fef3c7',
                                500: '#eab308',
                                600: '#ca8a04', 
                                900: '#713f12'
                            },
                            // 🟥 Red (Security/보안) - 면역계 역할
                            'red': {
                                50: '#fef2f2',
                                100: '#fee2e2',
                                500: '#ef4444',
                                600: '#dc2626',
                                900: '#7f1d1d'
                            },
                            // 🟪 Purple (Monitoring/관찰) - 감각기관 역할
                            'purple': {
                                50: '#faf5ff',
                                100: '#f3e8ff',
                                500: '#a855f7',
                                600: '#9333ea',
                                900: '#581c87'
                            },
                            // 🟧 Orange (UI/인터페이스) - 피부/표현 역할
                            'orange': {
                                50: '#fff7ed',
                                100: '#ffedd5', 
                                500: '#f97316',
                                600: '#ea580c',
                                900: '#9a3412'
                            },
                            // 🟫 Brown (Integration/연동) - 소화계 역할
                            'brown': {
                                50: '#fdf8f6',
                                100: '#f2e8e5',
                                500: '#a16207',
                                600: '#92400e',
                                900: '#78350f'
                            }
                        }
                    },
                    animation: {
                        'cube-pulse': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'cube-bounce': 'bounce 1s infinite',
                        'cube-glow': 'glow 2s ease-in-out infinite alternate'
                    },
                    keyframes: {
                        glow: {
                            '0%': { 'box-shadow': '0 0 5px rgba(59, 130, 246, 0.5)' },
                            '100%': { 'box-shadow': '0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Three.js for 3D visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Chart.js for monitoring -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom HEAL7 Styles -->
    <style>
        /* 생체모방공학 기반 애니메이션 */
        .cube-heartbeat {
            animation: heartbeat 2s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .cube-neural-glow {
            background: linear-gradient(45deg, 
                rgba(168, 85, 247, 0.1) 0%, 
                rgba(59, 130, 246, 0.1) 50%, 
                rgba(34, 197, 94, 0.1) 100%);
            background-size: 200% 200%;
            animation: neural-flow 3s ease-in-out infinite;
        }
        
        @keyframes neural-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* 생체 시스템 기반 그라디언트 */
        .bio-gradient-brain {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .bio-gradient-circulation {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        
        .bio-gradient-immune {
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
        }
        
        .bio-gradient-nervous {
            background: linear-gradient(135deg, #a770ef 0%, #cf8bf3 50%, #fdb99b 100%);
        }
        
        /* 3D 큐브 효과 */
        .cube-3d {
            transform-style: preserve-3d;
            transition: transform 0.3s ease;
        }
        
        .cube-3d:hover {
            transform: rotateX(10deg) rotateY(10deg);
        }
        
        /* 유기체 형태 모방 */
        .organic-border {
            border-radius: 20px 5px 20px 5px;
        }
        
        .cell-membrane {
            border-radius: 50% 20% / 10% 40%;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-6" x-data="heal7CubeArchitecture()">
        
        <!-- 🧠 Neural Header (뇌 중추 시스템) -->
        <div class="mb-8">
            <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6 bio-gradient-brain">
                <div class="text-center text-white">
                    <div class="flex items-center justify-center mb-4">
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-4 cube-heartbeat">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                            </svg>
                        </div>
                        <h1 class="text-3xl font-bold">HEAL7 큐브 모듈러 아키텍처</h1>
                    </div>
                    <p class="text-lg opacity-90">🏗️ 생체모방공학 기반 실험서버 · 독립성 테스트 · 3D 시뮬레이션</p>
                    <div class="mt-4 text-sm opacity-75">
                        8-Color 치유 중심 · 인체 기관별 색상 매핑 · 화학 주기율표 응용
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 🧬 Navigation DNA (내비게이션 시스템) -->
        <div class="mb-8">
            <div class="flex flex-wrap justify-center gap-2 bg-white/10 backdrop-blur-lg rounded-2xl p-3">
                <button 
                    class="px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105"
                    :class="activeTab === 'overview' ? 'bg-heal7-blue-500 text-white shadow-lg' : 'bg-white/20 text-white/80 hover:bg-white/30'"
                    @click="activeTab = 'overview'">
                    <span class="mr-2">🧠</span> 큐브 개요
                </button>
                <button 
                    class="px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105"
                    :class="activeTab === '3d' ? 'bg-heal7-purple-500 text-white shadow-lg' : 'bg-white/20 text-white/80 hover:bg-white/30'"
                    @click="activeTab = '3d'">
                    <span class="mr-2">🎯</span> 3D 모델링
                </button>
                <button 
                    class="px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105"
                    :class="activeTab === 'control' ? 'bg-heal7-green-500 text-white shadow-lg' : 'bg-white/20 text-white/80 hover:bg-white/30'"
                    @click="activeTab = 'control'">
                    <span class="mr-2">⚙️</span> 서비스 제어
                </button>
                <button 
                    class="px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105"
                    :class="activeTab === 'monitoring' ? 'bg-heal7-purple-500 text-white shadow-lg' : 'bg-white/20 text-white/80 hover:bg-white/30'"
                    @click="activeTab = 'monitoring'">
                    <span class="mr-2">📊</span> 심층 모니터링
                </button>
                <button 
                    class="px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105"
                    :class="activeTab === 'assembly' ? 'bg-heal7-orange-500 text-white shadow-lg' : 'bg-white/20 text-white/80 hover:bg-white/30'"
                    @click="activeTab = 'assembly'">
                    <span class="mr-2">🧩</span> 큐브 조립
                </button>
            </div>
        </div>
        
        <!-- 📱 Tab Content -->
        <div class="tab-content">
            
            <!-- 🔍 Overview Tab (큐브 개요) -->
            <div x-show="activeTab === 'overview'" x-transition class="space-y-6">
                
                <!-- 🏥 생체 시스템 현황 -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    <!-- 💗 Heart Rate Monitor (시스템 생체신호) -->
                    <div class="lg:col-span-2">
                        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6 cube-neural-glow">
                            <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
                                <div class="w-8 h-8 bg-heal7-blue-500 rounded-lg flex items-center justify-center mr-3 cube-heartbeat">
                                    💗
                                </div>
                                활성 큐브 생체신호
                            </h3>
                            
                            <!-- HEAL7 8-Color Cube Grid -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <template x-for="cube in heal7Cubes" :key="cube.id">
                                    <div 
                                        class="cube-3d organic-border p-4 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-2xl"
                                        :class="{
                                            'bg-gradient-to-br from-heal7-blue-500 to-heal7-blue-600': cube.color === 'blue',
                                            'bg-gradient-to-br from-heal7-green-500 to-heal7-green-600': cube.color === 'green', 
                                            'bg-gradient-to-br from-heal7-yellow-500 to-heal7-yellow-600': cube.color === 'yellow',
                                            'bg-gradient-to-br from-heal7-red-500 to-heal7-red-600': cube.color === 'red',
                                            'bg-gradient-to-br from-heal7-purple-500 to-heal7-purple-600': cube.color === 'purple',
                                            'bg-gradient-to-br from-heal7-orange-500 to-heal7-orange-600': cube.color === 'orange',
                                            'bg-gradient-to-br from-heal7-brown-500 to-heal7-brown-600': cube.color === 'brown'
                                        }"
                                        @click="selectCube(cube)">
                                        
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="flex items-center">
                                                <span class="text-2xl mr-3" x-text="cube.emoji"></span>
                                                <div>
                                                    <h4 class="font-bold text-white text-sm" x-text="cube.name"></h4>
                                                    <p class="text-white/80 text-xs" x-text="cube.role"></p>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <div 
                                                    class="w-3 h-3 rounded-full mb-1"
                                                    :class="{
                                                        'bg-green-400 animate-pulse': cube.status === 'online',
                                                        'bg-yellow-400': cube.status === 'warning',
                                                        'bg-red-400 animate-bounce': cube.status === 'offline'
                                                    }">
                                                </div>
                                                <span class="text-xs text-white/90" x-text="cube.port"></span>
                                            </div>
                                        </div>
                                        
                                        <div class="text-xs text-white/70 mb-2" x-text="cube.description"></div>
                                        
                                        <!-- 생체 신호 바 -->
                                        <div class="bg-white/20 rounded-full h-2 mb-2">
                                            <div 
                                                class="bg-white rounded-full h-2 transition-all duration-1000"
                                                :style="'width: ' + cube.vitality + '%'">
                                            </div>
                                        </div>
                                        
                                        <div class="flex justify-between text-xs text-white/80">
                                            <span>활력도: <span x-text="cube.vitality + '%'"></span></span>
                                            <span x-text="cube.responseTime + 'ms'"></span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 🫀 생체 메트릭 (Vital Signs) -->
                    <div>
                        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6 bio-gradient-nervous">
                            <h3 class="text-xl font-bold text-white mb-6 flex items-center">
                                <div class="w-8 h-8 bg-heal7-purple-500 rounded-lg flex items-center justify-center mr-3">
                                    🫀
                                </div>
                                생체 지표
                            </h3>
                            
                            <!-- CPU (뇌 활동) -->
                            <div class="mb-4">
                                <div class="flex justify-between text-white mb-2">
                                    <span class="text-sm">🧠 뇌 활동 (CPU)</span>
                                    <span class="text-sm font-mono" x-text="systemVitals.cpu + '%'"></span>
                                </div>
                                <div class="bg-white/20 rounded-full h-3">
                                    <div 
                                        class="bg-gradient-to-r from-heal7-blue-400 to-heal7-blue-600 rounded-full h-3 transition-all duration-1000"
                                        :style="'width: ' + systemVitals.cpu + '%'">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Memory (기억 저장소) -->
                            <div class="mb-4">
                                <div class="flex justify-between text-white mb-2">
                                    <span class="text-sm">🧬 기억 저장소 (RAM)</span>
                                    <span class="text-sm font-mono" x-text="systemVitals.memory + '%'"></span>
                                </div>
                                <div class="bg-white/20 rounded-full h-3">
                                    <div 
                                        class="bg-gradient-to-r from-heal7-yellow-400 to-heal7-yellow-600 rounded-full h-3 transition-all duration-1000"
                                        :style="'width: ' + systemVitals.memory + '%'">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Network (순환계) -->
                            <div class="mb-4">
                                <div class="flex justify-between text-white mb-2">
                                    <span class="text-sm">🩸 순환계 (Network)</span>
                                    <span class="text-sm font-mono" x-text="systemVitals.network + '%'"></span>
                                </div>
                                <div class="bg-white/20 rounded-full h-3">
                                    <div 
                                        class="bg-gradient-to-r from-heal7-green-400 to-heal7-green-600 rounded-full h-3 transition-all duration-1000"
                                        :style="'width: ' + systemVitals.network + '%'">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 면역계 상태 -->
                            <div class="mt-6 p-4 bg-white/10 rounded-2xl">
                                <h4 class="text-white font-medium mb-3">🛡️ 면역계 상태</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-white/80">활성 방어막</span>
                                        <span class="text-green-400" x-text="heal7Cubes.filter(c => c.status === 'online').length + '개'"></span>
                                    </div>
                                    <div class="flex justify-between text-sm">
                                        <span class="text-white/80">경고 신호</span>
                                        <span class="text-yellow-400" x-text="heal7Cubes.filter(c => c.status === 'warning').length + '개'"></span>
                                    </div>
                                    <div class="flex justify-between text-sm">
                                        <span class="text-white/80">손상 부위</span>
                                        <span class="text-red-400" x-text="heal7Cubes.filter(c => c.status === 'offline').length + '개'"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 🎯 3D Modeling Tab -->
            <div x-show="activeTab === '3d'" x-transition class="space-y-6">
                <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                    <h3 class="text-2xl font-bold text-white mb-4 flex items-center">
                        <div class="w-8 h-8 bg-heal7-purple-500 rounded-lg flex items-center justify-center mr-3">
                            🎯
                        </div>
                        3D 큐브 생체모방 시뮬레이션
                    </h3>
                    <p class="text-white/70 mb-6">마우스로 큐브를 이동하고 결합해보세요. 생체 시스템 기반 실시간 시뮬레이션</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <!-- 3D Canvas -->
                        <div class="lg:col-span-3">
                            <div class="bg-black/50 rounded-2xl p-4 aspect-video">
                                <canvas id="heal7-3d-canvas" class="w-full h-full rounded-xl"></canvas>
                            </div>
                        </div>
                        
                        <!-- Controls -->
                        <div class="space-y-4">
                            <div class="bg-white/10 rounded-2xl p-4">
                                <h4 class="text-white font-medium mb-3">🎨 색상 DNA 코드</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-blue-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟦 비즈니스 중추</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-green-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟩 순환 네트워크</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-yellow-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟨 저장 골격계</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-red-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟥 면역 방어계</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-purple-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟪 감각 관찰계</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-orange-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟧 표현 인터페이스</span>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 bg-heal7-brown-500 rounded mr-2"></div>
                                        <span class="text-white/80">🟫 소화 연동계</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white/10 rounded-2xl p-4">
                                <h4 class="text-white font-medium mb-3">🛠️ 3D 생체 제어</h4>
                                <div class="space-y-2">
                                    <button class="w-full bg-heal7-blue-500 hover:bg-heal7-blue-600 text-white py-2 px-4 rounded-lg transition-colors" @click="reset3D()">
                                        🔄 생체 시스템 리셋
                                    </button>
                                    <button class="w-full bg-heal7-green-500 hover:bg-heal7-green-600 text-white py-2 px-4 rounded-lg transition-colors" @click="runSimulation()">
                                        ⚡ 생체 시뮬레이션
                                    </button>
                                    <button class="w-full bg-heal7-purple-500 hover:bg-heal7-purple-600 text-white py-2 px-4 rounded-lg transition-colors" @click="saveAssembly()">
                                        💾 DNA 패턴 저장
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ⚙️ Service Control Tab -->
            <div x-show="activeTab === 'control'" x-transition class="space-y-6">
                <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                    <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
                        <div class="w-8 h-8 bg-heal7-green-500 rounded-lg flex items-center justify-center mr-3">
                            ⚙️
                        </div>
                        생체 시스템 제어 및 관리
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <template x-for="cube in heal7Cubes" :key="cube.id">
                            <div class="bg-white/10 rounded-2xl p-4 organic-border">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div 
                                            class="w-12 h-12 rounded-xl flex items-center justify-center mr-3 text-xl"
                                            :class="{
                                                'bg-heal7-blue-500': cube.color === 'blue',
                                                'bg-heal7-green-500': cube.color === 'green',
                                                'bg-heal7-yellow-500': cube.color === 'yellow', 
                                                'bg-heal7-red-500': cube.color === 'red',
                                                'bg-heal7-purple-500': cube.color === 'purple',
                                                'bg-heal7-orange-500': cube.color === 'orange',
                                                'bg-heal7-brown-500': cube.color === 'brown'
                                            }"
                                            x-text="cube.emoji">
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white" x-text="cube.name"></h4>
                                            <p class="text-white/60 text-sm" x-text="cube.port"></p>
                                        </div>
                                    </div>
                                    <div 
                                        class="w-4 h-4 rounded-full"
                                        :class="{
                                            'bg-green-400 animate-pulse': cube.status === 'online',
                                            'bg-yellow-400': cube.status === 'warning',
                                            'bg-red-400 animate-bounce': cube.status === 'offline'
                                        }">
                                    </div>
                                </div>
                                
                                <!-- Control Buttons -->
                                <div class="grid grid-cols-3 gap-2 mb-4">
                                    <button 
                                        class="bg-green-500 hover:bg-green-600 text-white py-2 px-3 rounded-lg text-sm transition-colors"
                                        @click="startService(cube.id)">
                                        ▶️ 활성화
                                    </button>
                                    <button 
                                        class="bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-3 rounded-lg text-sm transition-colors"
                                        @click="restartService(cube.id)">
                                        🔄 재시작
                                    </button>
                                    <button 
                                        class="bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded-lg text-sm transition-colors"
                                        @click="stopService(cube.id)">
                                        ⏹️ 중단
                                    </button>
                                </div>
                                
                                <!-- Status Info -->
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between text-white/80">
                                        <span>생체 상태:</span>
                                        <span 
                                            class="font-medium"
                                            :class="{
                                                'text-green-400': cube.status === 'online',
                                                'text-yellow-400': cube.status === 'warning', 
                                                'text-red-400': cube.status === 'offline'
                                            }"
                                            x-text="cube.status">
                                        </span>
                                    </div>
                                    <div class="flex justify-between text-white/80">
                                        <span>반응 시간:</span>
                                        <span x-text="cube.responseTime + 'ms'"></span>
                                    </div>
                                    <div class="flex justify-between text-white/80">
                                        <span>활력도:</span>
                                        <span x-text="cube.vitality + '%'"></span>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            
            <!-- 📊 Monitoring Tab -->
            <div x-show="activeTab === 'monitoring'" x-transition class="space-y-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    
                    <!-- 실시간 생체신호 차트 -->
                    <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                            <div class="w-8 h-8 bg-heal7-purple-500 rounded-lg flex items-center justify-center mr-3">
                                📈
                            </div>
                            실시간 생체신호 파형
                        </h3>
                        <canvas id="vitals-chart" class="w-full h-64"></canvas>
                    </div>
                    
                    <!-- 신경망 로그 스트림 -->
                    <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                            <div class="w-8 h-8 bg-heal7-green-500 rounded-lg flex items-center justify-center mr-3">
                                🧬
                            </div>
                            신경망 로그 스트림
                        </h3>
                        <div class="bg-black/60 rounded-xl p-4 h-64 overflow-y-auto font-mono text-sm">
                            <template x-for="log in neuralLogs" :key="log.id">
                                <div 
                                    class="mb-1"
                                    :class="{
                                        'text-green-400': log.level === 'success',
                                        'text-yellow-400': log.level === 'warning',
                                        'text-red-400': log.level === 'error',
                                        'text-blue-400': log.level === 'info'
                                    }">
                                    <span class="text-white/50" x-text="log.timestamp"></span> 
                                    <span x-text="'[' + log.system + ']'"></span> 
                                    <span x-text="log.message"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
                
                <!-- 큐브 DNA 분석 차트 -->
                <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                        <div class="w-8 h-8 bg-heal7-orange-500 rounded-lg flex items-center justify-center mr-3">
                            🧬
                        </div>
                        큐브 DNA 분석 - 생체 호환성 매트릭스
                    </h3>
                    <canvas id="dna-analysis-chart" class="w-full h-80"></canvas>
                </div>
            </div>
            
            <!-- 🧩 Assembly Tab -->
            <div x-show="activeTab === 'assembly'" x-transition class="space-y-6">
                <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-6">
                    <h3 class="text-2xl font-bold text-white mb-4 flex items-center">
                        <div class="w-8 h-8 bg-heal7-orange-500 rounded-lg flex items-center justify-center mr-3">
                            🧩
                        </div>
                        생체 시스템 조립 패턴 설계
                    </h3>
                    <p class="text-white/70 mb-6">큐브를 드래그하여 생체 시스템과 같은 유기적 구조를 만들어보세요</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <!-- 사용 가능한 큐브 (세포 라이브러리) -->
                        <div>
                            <h4 class="text-white font-medium mb-4">🧬 세포 라이브러리</h4>
                            <div class="space-y-3">
                                <template x-for="cube in heal7Cubes" :key="cube.id">
                                    <div 
                                        class="p-3 rounded-xl cursor-move transition-all duration-300 hover:scale-105 cell-membrane"
                                        :class="{
                                            'bg-gradient-to-r from-heal7-blue-500 to-heal7-blue-600': cube.color === 'blue',
                                            'bg-gradient-to-r from-heal7-green-500 to-heal7-green-600': cube.color === 'green',
                                            'bg-gradient-to-r from-heal7-yellow-500 to-heal7-yellow-600': cube.color === 'yellow',
                                            'bg-gradient-to-r from-heal7-red-500 to-heal7-red-600': cube.color === 'red', 
                                            'bg-gradient-to-r from-heal7-purple-500 to-heal7-purple-600': cube.color === 'purple',
                                            'bg-gradient-to-r from-heal7-orange-500 to-heal7-orange-600': cube.color === 'orange',
                                            'bg-gradient-to-r from-heal7-brown-500 to-heal7-brown-600': cube.color === 'brown'
                                        }"
                                        draggable="true"
                                        @dragstart="startDrag(cube, $event)">
                                        <div class="flex items-center text-white">
                                            <span class="mr-2" x-text="cube.emoji"></span>
                                            <div>
                                                <div class="font-medium text-sm" x-text="cube.name"></div>
                                                <div class="text-xs opacity-80" x-text="cube.role"></div>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                        
                        <!-- 조립 작업공간 (생체 구조 시뮬레이터) -->
                        <div class="lg:col-span-3">
                            <h4 class="text-white font-medium mb-4">🏗️ 생체 구조 시뮬레이터</h4>
                            <div 
                                class="bg-white/5 border-2 border-dashed border-white/30 rounded-3xl p-8 min-h-96 relative overflow-hidden"
                                @drop="dropCube($event)"
                                @dragover.prevent
                                @dragenter.prevent>
                                
                                <!-- Empty State -->
                                <div x-show="assemblyPattern.length === 0" class="text-center py-16">
                                    <div class="text-6xl mb-4 opacity-50 animate-pulse">🧬</div>
                                    <p class="text-white/50 text-lg">큐브를 드래그해서 생체 시스템을 조립하세요</p>
                                    <p class="text-white/30 text-sm mt-2">인체 기관처럼 유기적으로 결합됩니다</p>
                                </div>
                                
                                <!-- Assembly Pattern -->
                                <div x-show="assemblyPattern.length > 0" class="relative">
                                    <!-- Neural Network Visualization -->
                                    <div class="absolute inset-0 pointer-events-none">
                                        <svg class="w-full h-full opacity-30">
                                            <template x-for="(cube, index) in assemblyPattern" :key="cube.id">
                                                <template x-for="(target, targetIndex) in assemblyPattern.slice(index + 1)" :key="target.id">
                                                    <line 
                                                        :x1="(index % 4) * 200 + 100" 
                                                        :y1="Math.floor(index / 4) * 150 + 75"
                                                        :x2="((index + targetIndex + 1) % 4) * 200 + 100" 
                                                        :y2="Math.floor((index + targetIndex + 1) / 4) * 150 + 75"
                                                        stroke="rgba(255,255,255,0.3)" 
                                                        stroke-width="2"
                                                        stroke-dasharray="5,5">
                                                    </line>
                                                </template>
                                            </template>
                                        </svg>
                                    </div>
                                    
                                    <!-- Assembled Cubes -->
                                    <div class="grid grid-cols-4 gap-4">
                                        <template x-for="(cube, index) in assemblyPattern" :key="cube.id">
                                            <div 
                                                class="relative p-4 rounded-xl cursor-pointer group transition-all duration-300 hover:scale-110 cube-3d cell-membrane"
                                                :class="{
                                                    'bg-gradient-to-br from-heal7-blue-500 to-heal7-blue-600': cube.color === 'blue',
                                                    'bg-gradient-to-br from-heal7-green-500 to-heal7-green-600': cube.color === 'green',
                                                    'bg-gradient-to-br from-heal7-yellow-500 to-heal7-yellow-600': cube.color === 'yellow',
                                                    'bg-gradient-to-br from-heal7-red-500 to-heal7-red-600': cube.color === 'red',
                                                    'bg-gradient-to-br from-heal7-purple-500 to-heal7-purple-600': cube.color === 'purple',
                                                    'bg-gradient-to-br from-heal7-orange-500 to-heal7-orange-600': cube.color === 'orange',
                                                    'bg-gradient-to-br from-heal7-brown-500 to-heal7-brown-600': cube.color === 'brown'
                                                }"
                                                @click="removeCube(index)">
                                                
                                                <div class="text-center text-white">
                                                    <div class="text-2xl mb-1" x-text="cube.emoji"></div>
                                                    <div class="text-sm font-medium" x-text="cube.name"></div>
                                                </div>
                                                
                                                <!-- Remove Button -->
                                                <button 
                                                    class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"
                                                    @click.stop="removeCube(index)">
                                                    ×
                                                </button>
                                                
                                                <!-- Connection Points -->
                                                <div class="absolute inset-0 pointer-events-none">
                                                    <div class="absolute top-1/2 left-0 w-2 h-2 bg-white/50 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
                                                    <div class="absolute top-1/2 right-0 w-2 h-2 bg-white/50 rounded-full translate-x-1/2 -translate-y-1/2"></div>
                                                    <div class="absolute top-0 left-1/2 w-2 h-2 bg-white/50 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
                                                    <div class="absolute bottom-0 left-1/2 w-2 h-2 bg-white/50 rounded-full -translate-x-1/2 translate-y-1/2"></div>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                                
                                <!-- Assembly Actions -->
                                <div x-show="assemblyPattern.length > 0" class="mt-8 flex flex-wrap gap-3 justify-center">
                                    <button 
                                        class="bg-heal7-blue-500 hover:bg-heal7-blue-600 text-white px-6 py-3 rounded-xl transition-colors"
                                        @click="validateAssembly()">
                                        🔬 생체 호환성 검사
                                    </button>
                                    <button 
                                        class="bg-heal7-green-500 hover:bg-heal7-green-600 text-white px-6 py-3 rounded-xl transition-colors"
                                        @click="deployAssembly()">
                                        🚀 생체 시스템 배포
                                    </button>
                                    <button 
                                        class="bg-heal7-red-500 hover:bg-heal7-red-600 text-white px-6 py-3 rounded-xl transition-colors"
                                        @click="clearAssembly()">
                                        🧬 DNA 초기화
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function heal7CubeArchitecture() {
            return {
                activeTab: 'overview',
                assemblyPattern: [],
                selectedCube: null,
                
                // HEAL7 8-Color 생체모방공학 큐브 시스템
                heal7Cubes: [
                    {
                        id: 'saju',
                        name: '🔮 사주 시스템',
                        emoji: '🔮',
                        color: 'blue', // 🟦 Feature/비즈니스 로직 (뇌/심장)
                        role: '비즈니스 중추',
                        port: 'Port 8002',
                        status: 'online',
                        description: '사주명리학 해석 · 운세 계산 · 궁합 분석',
                        vitality: 92,
                        responseTime: 28,
                        organSystem: '뇌/심장 (중추신경)'
                    },
                    {
                        id: 'crawling',
                        name: '🕷️ 크롤링 엔진',
                        emoji: '🕷️',
                        color: 'green', // 🟩 Network/통신 (순환계)
                        role: '순환 네트워크',
                        port: 'Port 8005',
                        status: 'online', 
                        description: '웹 크롤링 · 데이터 수집 · 실시간 모니터링',
                        vitality: 88,
                        responseTime: 45,
                        organSystem: '순환계 (혈관/림프)'
                    },
                    {
                        id: 'ai_dashboard',
                        name: '🤖 AI 대시보드',
                        emoji: '🤖',
                        color: 'purple', // 🟪 Monitoring/관찰 (감각기관)
                        role: '감각 관찰계',
                        port: 'Port 8080',
                        status: 'online',
                        description: '9개 AI 모델 통합 · 실시간 모니터링',
                        vitality: 95,
                        responseTime: 32,
                        organSystem: '감각기관 (눈/귀/피부)'
                    },
                    {
                        id: 'paperwork',
                        name: '📄 Paperwork AI',
                        emoji: '📄',
                        color: 'yellow', // 🟨 Data/저장 (골격계)
                        role: '저장 골격계',
                        port: 'Port 8006',
                        status: 'online',
                        description: 'AI 문서 처리 · 데이터 저장 · 파일 관리',
                        vitality: 87,
                        responseTime: 41,
                        organSystem: '골격계 (뼈/골수/저장)'
                    },
                    {
                        id: 'security',
                        name: '🛡️ 보안 시스템',
                        emoji: '🛡️', 
                        color: 'red', // 🟥 Security/보안 (면역계)
                        role: '면역 방어계',
                        port: 'Port 8007',
                        status: 'online',
                        description: '접근 제어 · 인증 · 위협 탐지',
                        vitality: 96,
                        responseTime: 15,
                        organSystem: '면역계 (백혈구/항체)'
                    },
                    {
                        id: 'ui_interface',
                        name: '🎨 UI 인터페이스',
                        emoji: '🎨',
                        color: 'orange', // 🟧 UI/인터페이스 (피부)
                        role: '표현 인터페이스',
                        port: 'Port 3000',
                        status: 'online',
                        description: '사용자 경험 · 반응형 디자인 · 접근성',
                        vitality: 91,
                        responseTime: 22,
                        organSystem: '피부/표현 (외부소통)'
                    },
                    {
                        id: 'integration',
                        name: '🔗 외부 연동',
                        emoji: '🔗',
                        color: 'brown', // 🟫 Integration/연동 (소화계)
                        role: '소화 연동계', 
                        port: 'Port 8008',
                        status: 'warning',
                        description: '외부 API · 결제 · 소셜 로그인 · 알림',
                        vitality: 76,
                        responseTime: 67,
                        organSystem: '소화계 (영양흡수/처리)'
                    }
                ],
                
                // 생체 지표 (Vital Signs)
                systemVitals: {
                    cpu: 35,    // 뇌 활동
                    memory: 62, // 기억 저장소  
                    network: 28 // 순환계
                },
                
                // 신경망 로그 스트림
                neuralLogs: [
                    { id: 1, timestamp: '10:25:32', system: 'SAJU-SYS', message: '사주 계산 요청 처리 완료', level: 'success' },
                    { id: 2, timestamp: '10:25:28', system: 'CRAWL-NET', message: '웹 크롤링 작업 실행 중', level: 'info' },
                    { id: 3, timestamp: '10:25:25', system: 'AI-DASH', message: 'Claude CLI 연결 상태 양호', level: 'success' },
                    { id: 4, timestamp: '10:25:20', system: 'SECURITY', message: '비정상 접근 시도 차단', level: 'warning' },
                    { id: 5, timestamp: '10:25:15', system: 'PAPER-AI', message: '문서 분석 완료', level: 'success' }
                ],
                
                init() {
                    this.initVitalsMonitoring();
                    this.startRealTimeUpdates();
                    this.init3DVisualization();
                },
                
                // 큐브 선택
                selectCube(cube) {
                    this.selectedCube = cube;
                    console.log('Selected cube:', cube.name);
                },
                
                // 서비스 제어
                startService(cubeId) {
                    const cube = this.heal7Cubes.find(c => c.id === cubeId);
                    if (cube) {
                        cube.status = 'online';
                        cube.vitality = Math.min(100, cube.vitality + 10);
                        this.addNeuralLog(cube.name + ' 시스템 활성화', 'success');
                    }
                },
                
                stopService(cubeId) {
                    const cube = this.heal7Cubes.find(c => c.id === cubeId);
                    if (cube) {
                        cube.status = 'offline';
                        cube.vitality = Math.max(0, cube.vitality - 20);
                        this.addNeuralLog(cube.name + ' 시스템 중단', 'warning');
                    }
                },
                
                restartService(cubeId) {
                    const cube = this.heal7Cubes.find(c => c.id === cubeId);
                    if (cube) {
                        cube.status = 'warning';
                        this.addNeuralLog(cube.name + ' 시스템 재시작 중', 'info');
                        setTimeout(() => {
                            cube.status = 'online';
                            cube.vitality = Math.min(100, cube.vitality + 5);
                        }, 2000);
                    }
                },
                
                // 실시간 업데이트
                startRealTimeUpdates() {
                    setInterval(() => {
                        this.updateSystemVitals();
                        this.updateNeuralLogs();
                    }, 5000);
                },
                
                updateSystemVitals() {
                    // 생체 지표 시뮬레이션
                    this.systemVitals.cpu = Math.floor(Math.random() * 20) + 25;
                    this.systemVitals.memory = Math.floor(Math.random() * 20) + 55;
                    this.systemVitals.network = Math.floor(Math.random() * 15) + 20;
                    
                    // 큐브 활력도 업데이트
                    this.heal7Cubes.forEach(cube => {
                        if (cube.status === 'online') {
                            cube.vitality = Math.min(100, cube.vitality + Math.floor(Math.random() * 3) - 1);
                            cube.responseTime = Math.floor(Math.random() * 20) + 15;
                        }
                    });
                },
                
                updateNeuralLogs() {
                    const systems = ['SAJU-SYS', 'CRAWL-NET', 'AI-DASH', 'SECURITY', 'PAPER-AI', 'UI-INT', 'EXT-API'];
                    const messages = [
                        '생체 신호 정상 범위',
                        '시냅스 연결 안정',
                        '신경 전달 물질 분비 정상',
                        '면역 반응 활성화',
                        '대사 작용 원활',
                        '호르몬 균형 유지',
                        '혈액 순환 양호'
                    ];
                    const levels = ['success', 'info', 'warning'];
                    
                    if (this.neuralLogs.length > 20) {
                        this.neuralLogs.splice(0, 5);
                    }
                    
                    this.neuralLogs.push({
                        id: Date.now(),
                        timestamp: new Date().toLocaleTimeString(),
                        system: systems[Math.floor(Math.random() * systems.length)],
                        message: messages[Math.floor(Math.random() * messages.length)],
                        level: levels[Math.floor(Math.random() * levels.length)]
                    });
                },
                
                addNeuralLog(message, level) {
                    this.neuralLogs.push({
                        id: Date.now(),
                        timestamp: new Date().toLocaleTimeString(),
                        system: 'SYS-CTRL',
                        message: message,
                        level: level
                    });
                },
                
                // 3D 시각화 초기화
                init3DVisualization() {
                    // TODO: Three.js 3D 큐브 시각화
                    console.log('Initializing HEAL7 3D Bio-visualization...');
                },
                
                // 생체 신호 차트 초기화
                initVitalsMonitoring() {
                    // TODO: Chart.js 생체 신호 차트
                    console.log('Initializing vital signs monitoring...');
                },
                
                // 조립 시스템
                startDrag(cube, event) {
                    event.dataTransfer.setData('text/plain', JSON.stringify(cube));
                },
                
                dropCube(event) {
                    event.preventDefault();
                    const cubeData = JSON.parse(event.dataTransfer.getData('text/plain'));
                    
                    if (!this.assemblyPattern.find(cube => cube.id === cubeData.id)) {
                        this.assemblyPattern.push(cubeData);
                        this.addNeuralLog(cubeData.name + ' 조립됨', 'success');
                    }
                },
                
                removeCube(index) {
                    const cube = this.assemblyPattern[index];
                    this.assemblyPattern.splice(index, 1);
                    this.addNeuralLog(cube.name + ' 분리됨', 'info');
                },
                
                validateAssembly() {
                    const compatibility = this.calculateBioCompatibility();
                    alert(`🧬 생체 호환성 분석 완료!\n호환성 점수: ${compatibility}%\n조립된 큐브: ${this.assemblyPattern.length}개`);
                    this.addNeuralLog('생체 호환성 검증 완료', 'success');
                },
                
                calculateBioCompatibility() {
                    // 생체모방공학 기반 호환성 계산
                    const colorSynergy = this.calculateColorSynergy();
                    const organCompatibility = this.calculateOrganCompatibility();
                    return Math.floor((colorSynergy + organCompatibility) / 2);
                },
                
                calculateColorSynergy() {
                    // 색상 기반 시너지 계산 (화학 주기율표 원리)
                    const colors = this.assemblyPattern.map(cube => cube.color);
                    const uniqueColors = [...new Set(colors)];
                    return Math.min(100, uniqueColors.length * 15 + Math.floor(Math.random() * 20));
                },
                
                calculateOrganCompatibility() {
                    // 생체 기관 호환성 계산
                    const essentialSystems = ['blue', 'green', 'red']; // 뇌, 순환계, 면역계
                    const hasEssential = essentialSystems.every(color => 
                        this.assemblyPattern.some(cube => cube.color === color)
                    );
                    return hasEssential ? 90 + Math.floor(Math.random() * 10) : 60 + Math.floor(Math.random() * 30);
                },
                
                deployAssembly() {
                    if (this.assemblyPattern.length === 0) {
                        alert('⚠️ 조립할 큐브가 없습니다.');
                        return;
                    }
                    
                    const compatibility = this.calculateBioCompatibility();
                    
                    if (compatibility >= 80) {
                        alert(`🚀 생체 시스템 배포 시작!\n호환성: ${compatibility}%\n배포 예상 시간: 3분`);
                        this.addNeuralLog('생체 시스템 배포 시작', 'success');
                    } else {
                        alert(`⚠️ 호환성 부족\n현재: ${compatibility}%\n권장: 80% 이상`);
                        this.addNeuralLog('배포 중단 - 호환성 부족', 'warning');
                    }
                },
                
                clearAssembly() {
                    this.assemblyPattern = [];
                    this.addNeuralLog('DNA 패턴 초기화', 'info');
                },
                
                // 3D 제어
                reset3D() {
                    console.log('Resetting 3D bio-visualization');
                    this.addNeuralLog('3D 생체 시각화 리셋', 'info');
                },
                
                runSimulation() {
                    console.log('Running bio-simulation');
                    this.addNeuralLog('생체 시뮬레이션 실행', 'success');
                },
                
                saveAssembly() {
                    if (this.assemblyPattern.length > 0) {
                        console.log('Saving DNA pattern', this.assemblyPattern);
                        this.addNeuralLog('DNA 패턴 저장 완료', 'success');
                        alert(`💾 DNA 패턴 저장 완료!\n저장된 큐브: ${this.assemblyPattern.length}개`);
                    }
                }
            }
        }
    </script>
</body>
</html>