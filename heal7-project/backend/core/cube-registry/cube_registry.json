{
  "cube_registry": {
    "metadata": {
      "version": "2.1.0",
      "created_at": "2024-03-15T10:00:00Z",
      "updated_at": "2025-08-29T14:10:00Z",
      "total_cubes": 6,
      "architecture": "modular_data_cubes",
      "database_unified": true,
      "migration_completed": "2025-08-29T14:10:00Z"
    },
    
    "unified_database_structure": {
      "database_name": "heal7",
      "schemas": {
        "shared_common": {
          "description": "공통 사용자, 인증, 첨부파일 관리",
          "tables": ["users", "attachments"],
          "criticality": "high"
        },
        "saju_service": {
          "description": "사주명리학 계산 및 해석",
          "tables": ["kasi_cache", "saju_interpretations", "saju_results", "system_settings", "saju_charts", "daewoon_cycles", "sewoon_cycles", "compatibility_analyses", "calculation_performance"],
          "criticality": "high"
        },
        "crawling_service": {
          "description": "데이터 수집 및 크롤링 관리",
          "tables": ["crawl_ai_processing", "crawl_attachments", "crawl_data", "crawl_logs", "crawl_projects", "crawl_quality_checks"],
          "criticality": "medium"
        },
        "dream_service": {
          "description": "꿈풀이 및 해몽 서비스",
          "tables": ["dream_categories", "dream_interpretations", "dream_raw_collection"],
          "criticality": "medium"
        },
        "paperwork_service": {
          "description": "서류처리 및 OCR 관리",
          "tables": ["government_support_programs"],
          "criticality": "low"
        },
        "dashboard_service": {
          "description": "시스템 관리 및 모니터링",
          "tables": ["system_metrics", "service_logs"],
          "criticality": "medium"
        },
        "ai_monitoring_service": {
          "description": "AI 모델 성능 모니터링 및 비용 추적",
          "tables": ["ai_usage_stats"],
          "criticality": "low"
        }
      }
    },

    "cubes": {
      "shared-data-cube": {
        "info": {
          "name": "shared-data-cube",
          "version": "2.1.0",
          "description": "공통 사용자, 인증, 세션 관리 데이터큐브",
          "category": "infrastructure",
          "criticality": "high",
          "maintainer": "HEAL7 플랫폼팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "shared_common",
          "redis_db": 0,
          "redis_namespace": "shared_common",
          "jsonb_enabled": false
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed"
        }
      },
      
      "saju-data-cube": {
        "info": {
          "name": "saju-data-cube",
          "version": "2.1.0", 
          "description": "사주명리학 계산, 해석, 궁합 분석 데이터큐브",
          "category": "core_service",
          "criticality": "high",
          "maintainer": "HEAL7 사주팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "saju_service", 
          "redis_db": 1,
          "redis_namespace": "saju_service",
          "jsonb_enabled": true
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed",
          "enhanced_schema_applied": true
        }
      },
      
      "crawling-data-cube": {
        "info": {
          "name": "crawling-data-cube",
          "version": "2.1.0",
          "description": "웹 스크래핑 및 데이터 수집 관리 데이터큐브",
          "category": "data_collection", 
          "criticality": "medium",
          "maintainer": "HEAL7 크롤링팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "crawling_service",
          "redis_db": 2,
          "redis_namespace": "crawling_service", 
          "jsonb_enabled": true,
          "jsonb_primary": true
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed"
        }
      },
      
      "dream-data-cube": {
        "info": {
          "name": "dream-data-cube",
          "version": "2.1.0",
          "description": "꿈풀이 및 해몽 서비스 데이터큐브",
          "category": "fortune_service",
          "criticality": "medium",
          "maintainer": "HEAL7 꿈풀이팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "dream_service",
          "redis_db": 3,
          "redis_namespace": "dream_service",
          "jsonb_enabled": true
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed",
          "enhanced_schema_applied": true
        }
      },
      
      "dashboard-data-cube": {
        "info": {
          "name": "dashboard-data-cube",
          "version": "2.1.0",
          "description": "시스템 관리 및 모니터링 데이터큐브", 
          "category": "management",
          "criticality": "medium",
          "maintainer": "HEAL7 인프라팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "dashboard_service",
          "redis_db": 4,
          "redis_namespace": "dashboard_service",
          "jsonb_enabled": false
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed"
        }
      },
      
      "paperwork-data-cube": {
        "info": {
          "name": "paperwork-data-cube", 
          "version": "2.1.0",
          "description": "문서 처리 및 OCR 관리 데이터큐브",
          "category": "document_processing",
          "criticality": "low",
          "maintainer": "HEAL7 문서팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "paperwork_service",
          "redis_db": 5,
          "redis_namespace": "paperwork_service",
          "jsonb_enabled": true,
          "jsonb_use_case": "ocr_results"
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed"
        }
      },
      
      "ai-monitoring-data-cube": {
        "info": {
          "name": "ai-monitoring-data-cube",
          "version": "2.1.0", 
          "description": "AI 모델 성능 모니터링 및 비용 추적 데이터큐브",
          "category": "monitoring",
          "criticality": "low",
          "maintainer": "HEAL7 AI팀"
        },
        "database": {
          "postgresql_database": "heal7",
          "postgresql_schema": "ai_monitoring_service",
          "redis_db": 6,
          "redis_namespace": "ai_monitoring_service",
          "jsonb_enabled": false
        },
        "status": {
          "current_status": "active",
          "health": "healthy",
          "migration_status": "completed"
        }
      }
    },
    
    "migration_summary": {
      "completed_at": "2025-08-29T14:10:00Z",
      "databases_merged": [
        "heal7_saju → heal7.saju_service",
        "heal7.public → multiple schemas"
      ],
      "schemas_created": 7,
      "tables_migrated": 26,
      "enhanced_schemas_applied": 2,
      "backup_files": [
        "heal7_backup_20250829_140418.sql",
        "heal7_saju_backup_20250829_140419.sql",
        "paperworkdb_backup_20250829_140426.sql"
      ],
      "data_integrity": "verified",
      "rollback_available": true
    }
  }
}