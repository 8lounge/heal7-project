# ğŸ“š Reference Docs - ê°œë°œ í‘œì¤€ ë° ê°€ì´ë“œ

## ğŸ¯ ëª©ì 
- **ê°œë°œ í‘œì¤€** ë¬¸ì„œí™” ë° ì¼ê´€ì„± ìœ ì§€
- **ì™¸ë¶€ API** í†µí•© ê°€ì´ë“œ ì œê³µ
- **ëª¨ë²” ì‚¬ë¡€** ìˆ˜ì§‘ ë° ê³µìœ 
- **ë¬¸ì œ í•´ê²°** ê°€ì´ë“œ ì œê³µ

## ğŸ“‚ êµ¬ì¡°

### **technical-standards/** - ê¸°ìˆ  í‘œì¤€
```
heal7-coding-standards.md      # HEAL7 ì½”ë”© í‘œì¤€
api-design-principles.md       # API ì„¤ê³„ ì›ì¹™
database-conventions.md        # ë°ì´í„°ë² ì´ìŠ¤ ëª…ëª… ê·œì¹™
security-guidelines.md         # ë³´ì•ˆ ê°€ì´ë“œë¼ì¸
```

### **external-apis/** - ì™¸ë¶€ API ë¬¸ì„œ
```
kasi-api-documentation.md      # KASI API ì‚¬ìš©ë²•
gemini-ai-guide.md            # Gemini AI í†µí•© ê°€ì´ë“œ
openai-integration.md         # OpenAI í†µí•© ê°€ì´ë“œ
payment-gateway-docs.md       # ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ë¬¸ì„œ
```

### **best-practices/** - ëª¨ë²” ì‚¬ë¡€
```
react-best-practices.md       # React ê°œë°œ ëª¨ë²” ì‚¬ë¡€
fastapi-patterns.md           # FastAPI íŒ¨í„´
postgresql-optimization.md     # PostgreSQL ìµœì í™”
nginx-configuration.md         # Nginx ì„¤ì • ëª¨ë²” ì‚¬ë¡€
```

### **troubleshooting/** - ë¬¸ì œ í•´ê²°
```
common-issues-solutions.md     # ì¼ë°˜ì  ë¬¸ì œ í•´ê²°
performance-debugging.md       # ì„±ëŠ¥ ë””ë²„ê¹… ê°€ì´ë“œ
deployment-problems.md         # ë°°í¬ ë¬¸ì œ í•´ê²°
database-issues.md            # ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ì œ í•´ê²°
```

### **compliance/** - ì»´í”Œë¼ì´ì–¸ìŠ¤
```
privacy-policy-template.md     # ê°œì¸ì •ë³´ ë³´í˜¸ì •ì±… í…œí”Œë¦¿
terms-of-service.md           # ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€
korean-privacy-law.md         # í•œêµ­ ê°œì¸ì •ë³´ë³´í˜¸ë²• ê°€ì´ë“œ
```

## ğŸ“ ë¬¸ì„œ ì‘ì„± í‘œì¤€

### **í‘œì¤€ ë¬¸ì„œ í…œí”Œë¦¿**
```markdown
# [ë¬¸ì„œ ì œëª©]

> **ëª©ì **: [ì´ ë¬¸ì„œì˜ ëª©ì ]
> **ëŒ€ìƒ**: [ëŒ€ìƒ ë…ì]
> **ìµœì¢… ì—…ë°ì´íŠ¸**: [ë‚ ì§œ]

## ğŸ“‹ ê°œìš”
[ë¬¸ì„œì˜ ì „ì²´ì ì¸ ê°œìš”]

## ğŸ¯ í•µì‹¬ ë‚´ìš©
### ì£¼ìš” í¬ì¸íŠ¸ 1
[ìƒì„¸ ì„¤ëª…]

### ì£¼ìš” í¬ì¸íŠ¸ 2
[ìƒì„¸ ì„¤ëª…]

## ğŸ’» ì½”ë“œ ì˜ˆì‹œ
```javascript
// ëª…í™•í•˜ê³  ì‹¤ìš©ì ì¸ ì˜ˆì‹œ ì½”ë“œ
const example = () => {
    return "ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ";
};
```

## âš ï¸ ì£¼ì˜ì‚¬í•­
- [ì¤‘ìš”í•œ ì£¼ì˜ì‚¬í•­ 1]
- [ì¤‘ìš”í•œ ì£¼ì˜ì‚¬í•­ 2]

## ğŸ”— ê´€ë ¨ ìë£Œ
- [Link 1: ê´€ë ¨ ë¬¸ì„œ]
- [Link 2: ì™¸ë¶€ ë¦¬ì†ŒìŠ¤]

## ğŸ“… ë³€ê²½ ì´ë ¥
- **v1.1** (2025-08-18): [ë³€ê²½ ë‚´ìš©]
- **v1.0** (2025-08-15): ì´ˆê¸° ì‘ì„±
```

## ğŸ”§ ê¸°ìˆ  í‘œì¤€ ê°€ì´ë“œ

### **ì½”ë”© ìŠ¤íƒ€ì¼**
```typescript
// HEAL7 TypeScript ì½”ë”© í‘œì¤€
interface SajuResult {
  userId: string;           // camelCase ì‚¬ìš©
  birthData: BirthData;     // ëª…í™•í•œ íƒ€ì… ì •ì˜
  calculationResult: {      // ì¤‘ì²© ê°ì²´ êµ¬ì¡°í™”
    pillars: Pillar[];
    elements: Element[];
  };
  createdAt: Date;         // í‘œì¤€ ë‚ ì§œ íƒ€ì…
}

// í•¨ìˆ˜ëª…ì€ ë™ì‚¬ë¡œ ì‹œì‘
const calculateSaju = async (birthData: BirthData): Promise<SajuResult> => {
  // ì—ëŸ¬ ì²˜ë¦¬ í•„ìˆ˜
  if (!validateBirthData(birthData)) {
    throw new Error('Invalid birth data');
  }
  
  // ëª…í™•í•œ ë³€ìˆ˜ëª… ì‚¬ìš©
  const calculationResult = await performCalculation(birthData);
  
  return {
    userId: birthData.userId,
    birthData,
    calculationResult,
    createdAt: new Date()
  };
};
```

### **API ì„¤ê³„ ì›ì¹™**
```yaml
# RESTful API ì„¤ê³„ í‘œì¤€
paths:
  /api/v1/saju:
    post:
      summary: "ì‚¬ì£¼ ê³„ì‚° ìš”ì²­"
      operationId: "calculateSaju"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SajuRequest'
      responses:
        '200':
          description: "ê³„ì‚° ì„±ê³µ"
        '400':
          description: "ì˜ëª»ëœ ìš”ì²­"
        '500':
          description: "ì„œë²„ ì˜¤ë¥˜"
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ í‘œì¤€

### **ëª…ëª… ê·œì¹™**
```sql
-- í…Œì´ë¸”ëª…: snake_case, ë³µìˆ˜í˜•
CREATE TABLE saju_results (
  id UUID PRIMARY KEY,                    -- UUID ì‚¬ìš©
  user_id UUID NOT NULL,                 -- ì™¸ë˜í‚¤ ëª…í™• í‘œì‹œ
  birth_data JSONB NOT NULL,             -- JSON ë°ì´í„°ëŠ” JSONB
  calculation_result JSONB,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),  -- íƒ€ì„ì¡´ í¬í•¨
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ì¸ë±ìŠ¤ëª…: idx_[í…Œì´ë¸”ëª…]_[ì»¬ëŸ¼ëª…]
CREATE INDEX idx_saju_results_user_id ON saju_results(user_id);
CREATE INDEX idx_saju_results_created_at ON saju_results(created_at);
```

## ğŸ›¡ï¸ ë³´ì•ˆ ê°€ì´ë“œë¼ì¸

### **API ë³´ì•ˆ**
```python
# JWT í† í° ê²€ì¦
from fastapi import HTTPException, Depends
from fastapi.security import HTTPBearer

security = HTTPBearer()

async def verify_token(token: str = Depends(security)):
    try:
        payload = jwt.decode(token.credentials, SECRET_KEY, algorithms=["HS256"])
        return payload
    except jwt.ExpiredSignatureError:
        raise HTTPException(status_code=401, detail="Token expired")
    except jwt.InvalidTokenError:
        raise HTTPException(status_code=401, detail="Invalid token")
```

### **ë°ì´í„° ê²€ì¦**
```python
# Pydanticì„ ì‚¬ìš©í•œ ë°ì´í„° ê²€ì¦
from pydantic import BaseModel, validator
from datetime import datetime

class BirthData(BaseModel):
    birth_year: int
    birth_month: int  
    birth_day: int
    birth_hour: int
    
    @validator('birth_year')
    def validate_year(cls, v):
        if not (1900 <= v <= datetime.now().year):
            raise ValueError('ìœ íš¨í•˜ì§€ ì•Šì€ ì—°ë„ì…ë‹ˆë‹¤')
        return v
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™”

### **ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”**
```sql
-- ì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ
EXPLAIN ANALYZE
SELECT sr.*, u.name
FROM saju_results sr
JOIN users u ON sr.user_id = u.id
WHERE sr.created_at >= '2025-01-01'
  AND u.active = true
ORDER BY sr.created_at DESC
LIMIT 20;

-- ì¸ë±ìŠ¤ í™œìš© ìµœì í™”
CREATE INDEX idx_saju_results_active_users 
ON saju_results(created_at DESC) 
WHERE user_id IN (SELECT id FROM users WHERE active = true);
```

## ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ í‘œì¤€

### **React ì»´í¬ë„ŒíŠ¸**
```tsx
// HEAL7 React ì»´í¬ë„ŒíŠ¸ í‘œì¤€
interface SajuCalculatorProps {
  onCalculate: (result: SajuResult) => void;
  loading?: boolean;
}

export const SajuCalculator: React.FC<SajuCalculatorProps> = ({
  onCalculate,
  loading = false
}) => {
  const [birthData, setBirthData] = useState<BirthData | null>(null);
  
  const handleSubmit = useCallback(async (data: BirthData) => {
    try {
      const result = await calculateSaju(data);
      onCalculate(result);
    } catch (error) {
      // ì—ëŸ¬ ì²˜ë¦¬ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „íŒŒ
      throw error;
    }
  }, [onCalculate]);
  
  return (
    <div className="saju-calculator">
      {/* JSX êµ¬ì¡° */}
    </div>
  );
};
```

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

### **ì¼ë°˜ì  ë¬¸ì œë“¤**
```markdown
## ë¬¸ì œ: CORS ì—ëŸ¬
**ì¦ìƒ**: ë¸Œë¼ìš°ì €ì—ì„œ API í˜¸ì¶œ ì‹œ CORS ì—ëŸ¬ ë°œìƒ
**ì›ì¸**: ë°±ì—”ë“œì—ì„œ CORS ì„¤ì • ëˆ„ë½
**í•´ê²°ì±…**:
```python
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```
```

## âœ… ë¬¸ì„œ í’ˆì§ˆ ê¸°ì¤€
- [ ] ëª©ì ê³¼ ëŒ€ìƒì´ ëª…í™•íˆ ëª…ì‹œë¨
- [ ] ì‹¤ìš©ì ì¸ ì˜ˆì‹œ ì½”ë“œ í¬í•¨
- [ ] ë‹¨ê³„ë³„ ê°€ì´ë“œ ì œê³µ
- [ ] ì£¼ì˜ì‚¬í•­ê³¼ í•œê³„ì  ëª…ì‹œ
- [ ] ê´€ë ¨ ìë£Œì™€ ë§í¬ ì œê³µ
- [ ] ì •ê¸°ì  ì—…ë°ì´íŠ¸ ì´ë ¥ ê´€ë¦¬