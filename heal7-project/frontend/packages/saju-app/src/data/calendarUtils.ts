/**
 * ìº˜ë¦°ë” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ëª¨ë“ˆ - ë¶€ê°€ ê¸°ëŠ¥ë“¤
 * ===========================================
 * 
 * ì ˆê¸°, ìš´ì„¸, ê¸¸í‰, ì†ì—†ëŠ”ë‚  ë“± ìº˜ë¦°ë” ë³´ì¡° ê¸°ëŠ¥ë“¤
 * - 24ì ˆê¸° ê³„ì‚° ë° ì•„ì´ì½˜
 * - ìš´ì„¸ ì ìˆ˜ ê³„ì‚°
 * - ê¸¸í‰ íŒì •
 * - íŠ¹ì´ì‚¬í•­ ê³„ì‚°
 */

// ğŸ”¥ ì¤‘ë³µ ì œê±°: ìƒìˆ˜ëŠ” sajuConstants.tsì—ì„œ import
import { ê°‘ì60ìˆœí™˜, ì†ì—†ëŠ”ë‚ ê¸°ì¤€, ì ˆê¸°ë§¤í•‘, ìš´ì„¸ì ìˆ˜ê¸°ì¤€, ì˜¤í–‰ë§¤í•‘ } from './sajuConstants';

// ì ˆê¸° ë°ì´í„° íƒ€ì… ì •ì˜
export interface SolarTermData {
  name: string;
  date: string;
  year: number;
  month: number;
  day: number;
  description: string;
}

// ì ˆê¸° ì•„ì´ì½˜ ë§¤í•‘
export const ì ˆê¸°ì•„ì´ì½˜ë§¤í•‘: Record<string, { icon: string; color: string; description: string; season: string }> = {
  'ì…ì¶˜': { icon: 'ğŸŒ±', color: '#22c55e', description: 'ë´„ì˜ ì‹œì‘', season: 'ë´„' },
  'ìš°ìˆ˜': { icon: 'ğŸ’§', color: '#3b82f6', description: 'ëˆˆê³¼ ë¹„ê°€ ë‚´ë¦¼', season: 'ë´„' },
  'ê²½ì¹©': { icon: 'ğŸ›', color: '#84cc16', description: 'ë²Œë ˆë“¤ì´ ê¹¨ì–´ë‚¨', season: 'ë´„' },
  'ì¶˜ë¶„': { icon: 'âš–ï¸', color: '#10b981', description: 'ë°¤ë‚®ì´ ê°™ì•„ì§', season: 'ë´„' },
  'ì²­ëª…': { icon: 'ğŸŒ¸', color: '#f59e0b', description: 'í•˜ëŠ˜ì´ ë§‘ê³  ë°ìŒ', season: 'ë´„' },
  'ê³¡ìš°': { icon: 'ğŸŒ¾', color: '#8b5cf6', description: 'ê³¡ì‹ì— ë‹¨ë¹„', season: 'ë´„' },
  'ì…í•˜': { icon: 'â˜€ï¸', color: '#f97316', description: 'ì—¬ë¦„ì˜ ì‹œì‘', season: 'ì—¬ë¦„' },
  'ì†Œë§Œ': { icon: 'ğŸŒ¿', color: '#059669', description: 'ë§Œë¬¼ì´ ì ì°¨ ìëŒ', season: 'ì—¬ë¦„' },
  'ë§ì¢…': { icon: 'ğŸŒ¾', color: '#ca8a04', description: 'ì”¨ ë¿Œë¦¬ê³  ê±°ë‘ëŠ” ë•Œ', season: 'ì—¬ë¦„' },
  'í•˜ì§€': { icon: 'ğŸŒ', color: '#dc2626', description: 'ë‚®ì´ ê°€ì¥ ê¸´ ë‚ ', season: 'ì—¬ë¦„' },
  'ì†Œì„œ': { icon: 'ğŸ”¥', color: '#ea580c', description: 'ë”ìœ„ê°€ ì‹œì‘ë¨', season: 'ì—¬ë¦„' },
  'ëŒ€ì„œ': { icon: 'ğŸŒ¡ï¸', color: '#b91c1c', description: 'ê°€ì¥ ë”ìš´ ë•Œ', season: 'ì—¬ë¦„' },
  'ì…ì¶”': { icon: 'ğŸ‚', color: '#d97706', description: 'ê°€ì„ì˜ ì‹œì‘', season: 'ê°€ì„' },
  'ì²˜ì„œ': { icon: 'ğŸŒ¬ï¸', color: '#0891b2', description: 'ë”ìœ„ê°€ ê·¸ì¹¨', season: 'ê°€ì„' },
  'ë°±ë¡œ': { icon: 'â˜ï¸', color: '#64748b', description: 'í° ì´ìŠ¬ì´ ë‚´ë¦¼', season: 'ê°€ì„' },
  'ì¶”ë¶„': { icon: 'ğŸŒ•', color: '#7c3aed', description: 'ë°¤ë‚®ì´ ê°™ì•„ì§', season: 'ê°€ì„' },
  'í•œë¡œ': { icon: 'â„ï¸', color: '#0284c7', description: 'ì°¬ ì´ìŠ¬ì´ ë‚´ë¦¼', season: 'ê°€ì„' },
  'ìƒê°•': { icon: 'ğŸ§Š', color: '#1e40af', description: 'ì„œë¦¬ê°€ ë‚´ë¦¼', season: 'ê°€ì„' },
  'ì…ë™': { icon: 'ğŸŒ¨ï¸', color: '#475569', description: 'ê²¨ìš¸ì˜ ì‹œì‘', season: 'ê²¨ìš¸' },
  'ì†Œì„¤': { icon: 'â„ï¸', color: '#334155', description: 'ëˆˆì´ ë‚´ë¦¬ê¸° ì‹œì‘', season: 'ê²¨ìš¸' },
  'ëŒ€ì„¤': { icon: 'â˜ƒï¸', color: '#1e293b', description: 'í° ëˆˆì´ ë‚´ë¦¼', season: 'ê²¨ìš¸' },
  'ë™ì§€': { icon: 'ğŸŒ‘', color: '#0f172a', description: 'ë°¤ì´ ê°€ì¥ ê¸´ ë‚ ', season: 'ê²¨ìš¸' },
  'ì†Œí•œ': { icon: 'ğŸ§Š', color: '#1e40af', description: 'ì¶”ìœ„ê°€ ì‹œì‘ë¨', season: 'ê²¨ìš¸' },
  'ëŒ€í•œ': { icon: 'ğŸ¥¶', color: '#1e3a8a', description: 'ê°€ì¥ ì¶”ìš´ ë•Œ', season: 'ê²¨ìš¸' }
};

// ì ˆê¸° ê´€ë ¨ í•¨ìˆ˜ë“¤
export const getì ˆê¸° = (date: Date): string | null => {
  const month = date.getMonth() + 1;
  const day = date.getDate();
  
  // í˜„ì¬ ë‚ ì§œì™€ ê°€ì¥ ê°€ê¹Œìš´ ì ˆê¸° ì°¾ê¸° (Â±2ì¼ ë²”ìœ„)
  let ê°€ì¥ê°€ê¹Œìš´ì ˆê¸° = null;
  let ìµœì†Œì°¨ì´ = 3; // 2ì¼ ì´ˆê³¼í•˜ë©´ null ë°˜í™˜
  
  Object.entries(ì ˆê¸°ë§¤í•‘).forEach(([ì ˆê¸°ëª…, { month: ì ˆê¸°ì›”, day: ì ˆê¸°ì¼ }]) => {
    if (month === ì ˆê¸°ì›”) {
      const ì°¨ì´ = Math.abs(day - ì ˆê¸°ì¼);
      if (ì°¨ì´ <= ìµœì†Œì°¨ì´) {
        ìµœì†Œì°¨ì´ = ì°¨ì´;
        ê°€ì¥ê°€ê¹Œìš´ì ˆê¸° = ì ˆê¸°ëª…;
      }
    }
  });
  
  return ê°€ì¥ê°€ê¹Œìš´ì ˆê¸°;
};

export const getì ˆê¸°ìƒì„¸ì •ë³´ = (date: Date): { 
  ì ˆê¸°ì´ë¦„: string | null; 
  ì•„ì´ì½˜: string; 
  ìƒ‰ìƒ: string; 
  ì„¤ëª…: string; 
  ê³„ì ˆ: string;
  ì ˆê¸°ì—¬ë¶€: boolean;
} => {
  const ì ˆê¸°ì´ë¦„ = getì ˆê¸°(date);
  
  if (ì ˆê¸°ì´ë¦„ && ì ˆê¸°ì•„ì´ì½˜ë§¤í•‘[ì ˆê¸°ì´ë¦„]) {
    const ì •ë³´ = ì ˆê¸°ì•„ì´ì½˜ë§¤í•‘[ì ˆê¸°ì´ë¦„];
    return {
      ì ˆê¸°ì´ë¦„,
      ì•„ì´ì½˜: ì •ë³´.icon,
      ìƒ‰ìƒ: ì •ë³´.color,
      ì„¤ëª…: ì •ë³´.description,
      ê³„ì ˆ: ì •ë³´.season,
      ì ˆê¸°ì—¬ë¶€: true
    };
  }
  
  return {
    ì ˆê¸°ì´ë¦„: null,
    ì•„ì´ì½˜: '',
    ìƒ‰ìƒ: '#6b7280',
    ì„¤ëª…: '',
    ê³„ì ˆ: '',
    ì ˆê¸°ì—¬ë¶€: false
  };
};

export const isì ˆê¸°ë‚  = (date: Date): boolean => {
  return getì ˆê¸°(date) !== null;
};

export const getì ˆê¸°ìš´ì„¸ë³´ì • = (ì ˆê¸°ì´ë¦„: string | null): number => {
  if (!ì ˆê¸°ì´ë¦„) return 0;
  
  // ì ˆê¸°ë³„ ìš´ì„¸ ë³´ì •ê°’
  const ì ˆê¸°ë³´ì •ê°’: Record<string, number> = {
    'ì…ì¶˜': 1.5, 'ì…í•˜': 1.2, 'ì…ì¶”': 1.0, 'ì…ë™': 0.8,
    'ì¶˜ë¶„': 1.3, 'í•˜ì§€': 1.1, 'ì¶”ë¶„': 0.9, 'ë™ì§€': 0.7,
    'ê²½ì¹©': 1.1, 'ì†Œë§Œ': 1.0, 'ë°±ë¡œ': 0.8, 'ì†Œì„¤': 0.6
  };
  
  return ì ˆê¸°ë³´ì •ê°’[ì ˆê¸°ì´ë¦„] || 0.5;
};

// ì†ì—†ëŠ”ë‚  íŒì •
export const isì†ì—†ëŠ”ë‚  = (date: Date): boolean => {
  const month = date.getMonth() + 1; // 1-12ì›”
  const day = date.getDate();
  
  const í•´ë‹¹ì›”ì†ì—†ëŠ”ë‚  = ì†ì—†ëŠ”ë‚ ê¸°ì¤€[month as keyof typeof ì†ì—†ëŠ”ë‚ ê¸°ì¤€];
  return í•´ë‹¹ì›”ì†ì—†ëŠ”ë‚  ? í•´ë‹¹ì›”ì†ì—†ëŠ”ë‚ .includes(day) : false;
};

// ê¸¸í‰ íŒì • í•¨ìˆ˜ (ê°„ë‹¨í•œ ë¡œì§)
export const getê¸¸í‰ = (gapja: string, date: Date): { ê¸¸ì¼: boolean; í‰ì¼: boolean } => {
  if (gapja.length !== 2) {
    return { ê¸¸ì¼: false, í‰ì¼: false };
  }
  
  const ì²œê°„ = gapja[0];
  const ì§€ì§€ = gapja[1];
  const ìš”ì¼ = date.getDay(); // 0=ì¼ìš”ì¼, 1=ì›”ìš”ì¼, ...
  
  // ê¸°ë³¸ ê¸¸í‰ íŒì • (ì˜ˆì‹œ - ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•œ ê³„ì‚° í•„ìš”)
  const ê¸¸ì¼ì—¬ë¶€ = (ì²œê°„ === 'ê°‘' && ì§€ì§€ === 'ì') || 
                 (ì²œê°„ === 'ì„' && ì§€ì§€ === 'ì¶•') ||
                 (ìš”ì¼ === 0 || ìš”ì¼ === 6) || // ì£¼ë§ì€ ê¸¸ì¼
                 isì†ì—†ëŠ”ë‚ (date); // ì†ì—†ëŠ”ë‚ ì€ ê¸¸ì¼
  
  const í‰ì¼ì—¬ë¶€ = (ì²œê°„ === 'ë¬´' && ì§€ì§€ === 'ì‹ ') ||
                 (ì²œê°„ === 'ê¸°' && ì§€ì§€ === 'ìœ ') ||
                 (ìš”ì¼ === 2 || ìš”ì¼ === 4); // í™”,ëª©ìš”ì¼ì€ í‰ì¼
  
  return {
    ê¸¸ì¼: ê¸¸ì¼ì—¬ë¶€ && !í‰ì¼ì—¬ë¶€, // í‰ì¼ì´ë©´ ê¸¸ì¼ ë¬´íš¨
    í‰ì¼: í‰ì¼ì—¬ë¶€
  };
};

// ìš´ì„¸ ì ìˆ˜ ê³„ì‚°
export const getìš´ì„¸ì ìˆ˜ = (gapja: string, date: Date): number => {
  // ê¸°ë³¸ ì ìˆ˜
  let ì ìˆ˜ = 3; // ë³´í†µ
  
  if (gapja.length !== 2) return ì ìˆ˜;
  
  const ì²œê°„ = gapja[0];
  const ì§€ì§€ = gapja[1];
  
  // ì˜¤í–‰ ì¡°í™” í™•ì¸
  const ì²œê°„ì˜¤í–‰ = ì˜¤í–‰ë§¤í•‘[ì²œê°„];
  const ì§€ì§€ì˜¤í–‰ = ì˜¤í–‰ë§¤í•‘[ì§€ì§€];
  
  if (ì²œê°„ì˜¤í–‰ === ì§€ì§€ì˜¤í–‰) {
    ì ìˆ˜ += 1; // ì˜¤í–‰ì´ ê°™ìœ¼ë©´ +1
  }
  
  // ìš”ì¼ì— ë”°ë¥¸ ì¡°ì •
  const ìš”ì¼ = date.getDay();
  if (ìš”ì¼ === 0 || ìš”ì¼ === 6) {
    ì ìˆ˜ += 1; // ì£¼ë§ +1
  }
  
  // ì†ì—†ëŠ”ë‚  ë³´ë„ˆìŠ¤
  if (isì†ì—†ëŠ”ë‚ (date)) {
    ì ìˆ˜ += 1;
  }
  
  // ì ˆê¸° ë³´ë„ˆìŠ¤
  const ì ˆê¸°ì´ë¦„ = getì ˆê¸°(date);
  if (ì ˆê¸°ì´ë¦„) {
    ì ìˆ˜ += getì ˆê¸°ìš´ì„¸ë³´ì •(ì ˆê¸°ì´ë¦„);
  }
  
  // ê¸¸í‰ íŒì • ë°˜ì˜
  const { ê¸¸ì¼, í‰ì¼ } = getê¸¸í‰(gapja, date);
  if (ê¸¸ì¼) ì ìˆ˜ += 1;
  if (í‰ì¼) ì ìˆ˜ -= 1;
  
  // 1-5 ë²”ìœ„ë¡œ ì œí•œ
  return Math.max(1, Math.min(5, Math.floor(ì ìˆ˜)));
};

// íŠ¹ì´ì‚¬í•­ íŒì •
export const getíŠ¹ì´ì‚¬í•­ = (date: Date, gapja: string, isLeapMonth?: boolean): string[] => {
  try {
    const íŠ¹ì´ì‚¬í•­ë“¤: string[] = [];
    
    // ë§¤ê°œë³€ìˆ˜ ê²€ì¦
    if (!date || !gapja) {
      return [];
    }
    
    // ì†ì—†ëŠ”ë‚ 
    try {
      if (isì†ì—†ëŠ”ë‚  && isì†ì—†ëŠ”ë‚ (date)) {
        íŠ¹ì´ì‚¬í•­ë“¤.push('ì†ì—†ëŠ”ë‚ ');
      }
    } catch (error) {
      console.warn('ì†ì—†ëŠ”ë‚  ê³„ì‚° ì˜¤ë¥˜:', error);
    }
    
    // ê¸¸ì¼/í‰ì¼
    try {
      const ê¸¸í‰ê²°ê³¼ = getê¸¸í‰(gapja, date) || { ê¸¸ì¼: false, í‰ì¼: false };
      const { ê¸¸ì¼, í‰ì¼ } = ê¸¸í‰ê²°ê³¼;
      if (ê¸¸ì¼) íŠ¹ì´ì‚¬í•­ë“¤.push('ê¸¸ì¼');
      if (í‰ì¼) íŠ¹ì´ì‚¬í•­ë“¤.push('í‰ì¼');
    } catch (error) {
      console.warn('ê¸¸í‰ ê³„ì‚° ì˜¤ë¥˜:', error);
    }
    
    // ì ˆê¸°
    try {
      const ì ˆê¸° = getì ˆê¸°(date);
      if (ì ˆê¸°) {
        íŠ¹ì´ì‚¬í•­ë“¤.push(`${ì ˆê¸°}`);
      }
    } catch (error) {
      console.warn('ì ˆê¸° ê³„ì‚° ì˜¤ë¥˜:', error);
    }
    
    // ìœ¤ë‹¬
    if (isLeapMonth) {
      íŠ¹ì´ì‚¬í•­ë“¤.push('ìœ¤ë‹¬');
    }
    
    // íŠ¹ë³„í•œ ê°‘ì ì¡°í•©
    if (gapja === 'ê°‘ì') {
      íŠ¹ì´ì‚¬í•­ë“¤.push('ê°‘ìì¼');
    } else if (gapja === 'ê²½ì‹ ') {
      íŠ¹ì´ì‚¬í•­ë“¤.push('ê²½ì‹ ì¼');
    }
    
    // ìš”ì¼ë³„ íŠ¹ì´ì‚¬í•­ (ë°©ì–´ì  ì½”ë”©)
    try {
      const ìš”ì¼ëª…ë°°ì—´ = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
      const ìš”ì¼ì¸ë±ìŠ¤ = date.getDay();
      const ìš”ì¼ëª… = ìš”ì¼ëª…ë°°ì—´[ìš”ì¼ì¸ë±ìŠ¤];
      if (ìš”ì¼ëª… === 'ì¼') {
        íŠ¹ì´ì‚¬í•­ë“¤.push('ì¼ìš”ì¼');
      }
    } catch (error) {
      console.warn('ìš”ì¼ ê³„ì‚° ì˜¤ë¥˜:', error);
    }
    
    return Array.isArray(íŠ¹ì´ì‚¬í•­ë“¤) ? íŠ¹ì´ì‚¬í•­ë“¤ : [];
  } catch (error) {
    console.warn('getíŠ¹ì´ì‚¬í•­ ì „ì²´ ì˜¤ë¥˜:', error);
    return [];
  }
};

// ë  ë™ë¬¼ ì¡°íšŒ (sajuConstants.tsì—ì„œ ì´ë¯¸ ì •ì˜ë¨, ì—¬ê¸°ì„œëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë§Œ)
export const getë ë™ë¬¼ì„¤ëª… = (jiji: string): { 
  ë™ë¬¼: string; 
  íŠ¹ì„±: string[]; 
  ìƒ‰ìƒ: string; 
  ê¸¸ì¼: number[];
} => {
  const ë ì •ë³´: Record<string, { ë™ë¬¼: string; íŠ¹ì„±: string[]; ìƒ‰ìƒ: string; ê¸¸ì¼: number[] }> = {
    'ì': { ë™ë¬¼: 'ì¥', íŠ¹ì„±: ['ë¯¼ì²©', 'ì˜ë¦¬', 'ì ì‘ë ¥'], ìƒ‰ìƒ: '#6366f1', ê¸¸ì¼: [1, 9, 17, 25] },
    'ì¶•': { ë™ë¬¼: 'ì†Œ', íŠ¹ì„±: ['ì„±ì‹¤', 'ê·¼ë©´', 'ì¸ë‚´'], ìƒ‰ìƒ: '#8b5cf6', ê¸¸ì¼: [2, 10, 18, 26] },
    'ì¸': { ë™ë¬¼: 'í˜¸ë‘ì´', íŠ¹ì„±: ['ìš©ë§¹', 'ì •ì˜', 'ë¦¬ë”ì‹­'], ìƒ‰ìƒ: '#f59e0b', ê¸¸ì¼: [3, 11, 19, 27] },
    'ë¬˜': { ë™ë¬¼: 'í† ë¼', íŠ¹ì„±: ['ì˜¨í™”', 'ì¹œí™”ë ¥', 'ì˜ˆìˆ ê°ê°'], ìƒ‰ìƒ: '#10b981', ê¸¸ì¼: [4, 12, 20, 28] },
    'ì§„': { ë™ë¬¼: 'ìš©', íŠ¹ì„±: ['ê¶Œìœ„', 'ì°½ì¡°ë ¥', 'ë³€í™”'], ìƒ‰ìƒ: '#dc2626', ê¸¸ì¼: [5, 13, 21, 29] },
    'ì‚¬': { ë™ë¬¼: 'ë±€', íŠ¹ì„±: ['ì§€í˜œ', 'ì§ê´€', 'ì‹ ì¤‘'], ìƒ‰ìƒ: '#059669', ê¸¸ì¼: [6, 14, 22, 30] },
    'ì˜¤': { ë™ë¬¼: 'ë§', íŠ¹ì„±: ['í™œë™ì ', 'ììœ ', 'ì—´ì •'], ìƒ‰ìƒ: '#ea580c', ê¸¸ì¼: [7, 15, 23, 31] },
    'ë¯¸': { ë™ë¬¼: 'ì–‘', íŠ¹ì„±: ['ì˜¨ìˆœ', 'í˜‘ë ¥', 'í‰í™”'], ìƒ‰ìƒ: '#84cc16', ê¸¸ì¼: [8, 16, 24] },
    'ì‹ ': { ë™ë¬¼: 'ì›ìˆ­ì´', íŠ¹ì„±: ['ì¬ì¹˜', 'ìœ ë¨¸', 'ë‹¤ì¬ë‹¤ëŠ¥'], ìƒ‰ìƒ: '#f97316', ê¸¸ì¼: [1, 9, 17, 25] },
    'ìœ ': { ë™ë¬¼: 'ë‹­', íŠ¹ì„±: ['ì •í™•', 'ê³„íšì„±', 'ì±…ì„ê°'], ìƒ‰ìƒ: '#eab308', ê¸¸ì¼: [2, 10, 18, 26] },
    'ìˆ ': { ë™ë¬¼: 'ê°œ', íŠ¹ì„±: ['ì¶©ì„±', 'ì •ì§', 'ë³´í˜¸'], ìƒ‰ìƒ: '#64748b', ê¸¸ì¼: [3, 11, 19, 27] },
    'í•´': { ë™ë¬¼: 'ë¼ì§€', íŠ¹ì„±: ['ê´€ìš©', 'í’ìš”', 'í–‰ë³µ'], ìƒ‰ìƒ: '#ec4899', ê¸¸ì¼: [4, 12, 20, 28] }
  };
  
  return ë ì •ë³´[jiji] || { ë™ë¬¼: 'ë¯¸ì§€', íŠ¹ì„±: [], ìƒ‰ìƒ: '#6b7280', ê¸¸ì¼: [] };
};

// ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
export const formatKoreanDate = (date: Date): string => {
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  const ìš”ì¼ëª… = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][date.getDay()];
  
  return `${year}ë…„ ${month}ì›” ${day}ì¼ (${ìš”ì¼ëª…})`;
};

export const getSeasonByMonth = (month: number): string => {
  if (month >= 3 && month <= 5) return 'ë´„';
  if (month >= 6 && month <= 8) return 'ì—¬ë¦„'; 
  if (month >= 9 && month <= 11) return 'ê°€ì„';
  return 'ê²¨ìš¸';
};

export const getDayColor = (gapja: string, ì ìˆ˜: number): string => {
  // ê°‘ìì— ë”°ë¥¸ ê¸°ë³¸ ìƒ‰ìƒ
  const ê°‘ììƒ‰ìƒ: Record<string, string> = {
    'ê°‘ì': '#22c55e', 'ì„ì¶•': '#3b82f6', 'ë³‘ì¸': '#f59e0b',
    'ì •ë¬˜': '#10b981', 'ë¬´ì§„': '#8b5cf6', 'ê¸°ì‚¬': '#f97316'
  };
  
  const ê¸°ë³¸ìƒ‰ìƒ = ê°‘ììƒ‰ìƒ[gapja] || '#6b7280';
  
  // ì ìˆ˜ì— ë”°ë¥¸ íˆ¬ëª…ë„ ì¡°ì ˆ
  const íˆ¬ëª…ë„ = Math.max(0.3, ì ìˆ˜ / 5);
  
  return `${ê¸°ë³¸ìƒ‰ìƒ}${Math.floor(íˆ¬ëª…ë„ * 255).toString(16).padStart(2, '0')}`;
};

export default {
  // ì ˆê¸° ê´€ë ¨
  getì ˆê¸°,
  getì ˆê¸°ìƒì„¸ì •ë³´, 
  isì ˆê¸°ë‚ ,
  getì ˆê¸°ìš´ì„¸ë³´ì •,
  ì ˆê¸°ì•„ì´ì½˜ë§¤í•‘,
  
  // ìš´ì„¸ ê´€ë ¨
  getìš´ì„¸ì ìˆ˜,
  getíŠ¹ì´ì‚¬í•­,
  getê¸¸í‰,
  
  // ìœ í‹¸ë¦¬í‹°
  isì†ì—†ëŠ”ë‚ ,
  getë ë™ë¬¼ì„¤ëª…,
  formatKoreanDate,
  getSeasonByMonth,
  getDayColor
};